<?xml version="1.0" ?><page xmlns="http://www.mediawiki.org/xml/export-0.8/" version="0.8">
    <title>Btrieve</title>
    <ns>0</ns>
    <id>542386</id>
    <restrictions>move=:edit=</restrictions>
    <revision>
      <id>554036381</id>
      <parentid>552278925</parentid>
      <timestamp>2013-05-07T22:48:29Z</timestamp>
      <contributor>
        <username>Yobot</username>
        <id>7328338</id>
      </contributor>
      <minor></minor>
      <comment>[[WP:CHECKWIKI]] error fixes using [[Project:AWB|AWB]] (9120)</comment>
      <text xml:space="preserve">&lt;!-- Image with inadequate rationale removed: [[Image:Pervasive logo.png|right]] --&gt;
'''Btrieve''' is a transactional database ([[navigational database]]) software product. It is based on [[Indexed Sequential Access Method]] (ISAM), which is a way of storing [[data]] for fast retrieval. There have been several versions of the product for [[DOS]], [[Linux]], older versions of [[Microsoft Windows]], [[Windows 98]], [[Windows NT]], [[Windows 2000]], [[Windows XP]], [[Windows Server 2003]], 32-bit IBM [[OS/2]] and for [[Novell NetWare]].

It was originally a record manager that was published by SoftCraft, written by Doug Woodward and owned by his brother Loyd Woodward at around the same time as the release of the first [[IBM PC]]s. Doug received 50% of the company as a wedding gift and later purchased the remainder from his brother.    After gaining market share and popularity, it was acquired from its founders Doug and Nancy Woodward by Novell in 1987 for integration into their Netware [[operating system]] in addition to continuing with the MS-DOS version. The product gained significant market share as a database  embedded in mid-market applications in addition to being embedded in every copy of NetWare 2.x, 3.x and 4.x since it was available on every NetWare network. After some reorganization within Novell, it was decided to spin the product and technology off to the original founders, Doug and Nancy Woodward along with Ron Harris, in 1994 to be developed by a new company known as Btrieve Technologies, Inc. (BTI). 

Btrieve was modularized starting with version 6.15 and became one of two database [[front-end]]s that plugged into a standard [[Interface (computer science)|software interface]] called the [[Architecture of Btrieve#Micro-Kernel Database Engine|Micro-Kernel Database Engine]]. The Btrieve front-end supported the Btrieve API and the other front-end was called [[Scalable SQL]], a [[relational database]] product based upon the MKDE that used its own variety of [[Structured Query Language]], otherwise known as SQL. After these versions were released (Btrieve 6.15 and ScalableSQL v4) the company was renamed to [[Pervasive Software]] prior to their IPO. Shortly thereafter the Btrieve and ScalableSQL products were combined into the products now known and sold as [[Pervasive PSQL|Pervasive.SQL or PSQL]]. Btrieve was continued for a few years while ScalableSQL was quickly discontinued with customers encouraged to upgrade to [[Pervasive PSQL|Pervasive.SQL]] which supported both SQL and Btrieve applications.

==Architecture==
{{main|Architecture of Btrieve}}

[[Image:MKDE model.svg|thumb|223px|The MKDE model allows for different database backends to be plugged into Pervasive's software product.]]

Btrieve is not a [[relational database management system]] (RDBMS). Early descriptions of Btrieve referred to it as a ''record manager'' (though Pervasive initially used the term [[navigational database]] but later changed this to transactional database) because it only deals with the underlying record creation, data retrieval, record updating and data deletion primitives. It uses [[ISAM]] as its underlying [[Architecture of Btrieve#Indexing|indexing]] and storage mechanism. A key part of Pervasive's architecture is the use of a [[Architecture of Btrieve#Micro-Kernel Database Engine|MicroKernel Database Engine]], which allows different database [[backend]]s to be modularised and integrated easily into their DBMS package, [[Pervasive PSQL|Pervasive.SQL]]. This has allowed them to support both their Btrieve navigational database engine and an SQL-based engine, Scalable SQL. 

Current versions of Btrieve support [[Architecture of Btrieve#System and user transactions|system transactions and user transactions]], where system transactions are a bundle of non-transactional operations and/or user transactions, while user transactions are transactions that work on actual data in the database. System transactions were developed to allow multiple transactions to be done in a batch and to allow the ability to recover data more easily.

The Btrieve file format consists entirely of [[Architecture of Btrieve#Paging|pages]], which are the data that moves between memory and storage media when the engine performs an I/O operation. Versions prior to 6.0 merely used data pages, index pages and a [[Architecture of Btrieve#File control record|file control record]] (FCR). The file had an index for searching that linked to physical pages. Beginning with version 6.0 logical pages started to be used, which are pages that are mapped to physical pages (pages at a fixed location in the file) on the disk through the use of a set of [[Architecture of Btrieve#Page allocation tables|page allocation tables]] (PATs). The FCR is a record that contains important information about Btrieve files, such as the number of pages in current use. In order to avoid corruption in the database Btrieve uses two methods of updating records: ''pre-image paging'' in Btrieve versions before 6.0 and ''shadow paging'' in subsequent versions. It was mainly the change-over from pre-image paging to shadow-paging that caused radical file format changes that broke compatibility between version 6 and previous versions.

==History==
&lt;!--  Commented out because image was deleted: [[Image:Btrieve living legend tshirt.png|thumb|In 2004, the ''Btrieve Society'' released a [[t-shirt]] recognising the experience of existing Btrieve developers.]] --&gt;
Btrieve has been owned and developed by four different companies: SoftCraft, Novell, Btrieve Technologies, Inc. (later renamed Pervasive Software), and Actian Corporation. They have a committed and loyal developer-base and in all the company's literature they remain fully committed to the product; in fact Pervasive Software set up a "Btrieve Society" to recognise existing developers.&lt;ref&gt;http://www.btrievesociety.com&lt;/ref&gt;

Under MS-DOS Btrieve up to version 5 was a [[Terminate-and-Stay-Resident]] program which functioned as an [[application programming interface]] (API)  [[database engine]], supplying applications programs with function calls to implement a multi-user database with [[record locking]]; the network version worked in a similar way.

In the early years MS-DOS versions up to version 5 sold for a relatively high price, of the order of US$1,000, but the executable [[Terminate-and-Stay-Resident]] (TSR) [[database engine]] file could be distributed  with applications without payment of any licence fee.

===SoftCraft years===
The product was launched in February 1982 by SoftCraft, a firm located in [[Austin, Texas|Austin]], [[Texas]], by Doug and Nancy Woodward. Doug became the vice-president and handled software development, and Nancy became the president of the company. They released a number of versions over the next few years: in February 1983 they released the Btrieve 2.x series, and when [[MS-DOS]] 2.x developed support for file and directory handles they released Btrieve 3.0. When MS-DOS 3.1 standardised its internal interfaces in March 1985 they released Btrieve 3.1 C/S one month later, which had [[computer network|network]] and [[client/server]] support. In February 1986 Btrieve 4.0 was released, and when the 4.1 upgrade was released it gained support for extended key types and supplemental indexes.

Although Btrieve was fairly popular, it was an API database engine, while the [[killer-app]] database manager on the PC, [[dBase II]] and its successors, was a [[database management system]] (DBMS) which could be used either as a free-standing general-purpose application or a database programming language. Btrieve was also more expensive to purchase than dBase, although run-time licensing was free of charge. Btrieve grew to a developer base of over 5,000 users and was widely used in the financial area.&lt;ref name="Kyle p7"&gt;{{cite book| last=Kyle| first=Jim| year=1995| title=Btrieve complete: a guide for developers and systems administrators| location=Reading, Massachusetts| publisher=Addison-Wesley Publishing Company| isbn=0-201-48326-2| pages=7}}&lt;/ref&gt; The company took some time to create a [[user-interface]] for the product, however in 1984 they released '''Xtrieve''', a menu-driven program that used a new [[.DDF]] [[data dictionary]] to enforce [[relational database]] rules.

===Novell acquisition===
[[Image:Novell Logo.png|right]]
In 1987 [[Novell]] started diversifying and buying companies to add to their [[NetWare]] [[operating system]]. One of the companies they purchased was SoftCraft. Nancy Woodward became the Vice-President and General Manager of Novell's Austin operations while Doug Woodward became the Vice-President of Advanced Database Technologies. Early the next year Btrieve 5.0 was released to run as a native NetWare application, or VAP (Value Added Process). According to Jim Kyle, "it had auto-increment key types, the BROUTER network process server, data-only and key-only files, and optional data compression".&lt;ref name="Kyle p7"/&gt; Version 5.1 was released in 1990 with increased file-handling transaction capability, logging and roll-forward operations, along with several API enhancements. Several versions were created for [[DOS]], [[OS/2]] and [[Microsoft Windows]]. Version 6.0 was released in June 1992, however it was not promoted extensively by Novell, and due to enhancements (such as the change from pre-imaging to shadow-paging) it was incompatible with previous versions of Btrieve. The market did not increase much for Btrieve and it did not see wide adoption due to these issues.

When the company was acquired by Novell, SoftCraft had been working on a product called '''XQL''', which was an [[SQL]] interpreter that was designed to better deal with industry standard SQL, which the Xtrieve package was not fully compliant with. This became the basis for '''NetWare SQL''', which was initially released in 1989, and was a bare-bones SQL interpreter which implemented the base IBM version of SQL.

===Btrieve Technologies, Inc.===
[[Image:Btrieve logo.PNG|right]]
By 1994 Novell had largely given up on attempting to make NetWare into a complete alternative operating system, and started selling off many of the companies it had acquired only a few years earlier. They had also done minimal promotion of Btrieve, largely due to the long time (24 months) it took to release version 6. Negotiations between Nancy and Doug Woodward with Novell were entered into and after two years Novell announced (on January 26, 1994) that it was going to transfer ownership of Btrieve to Btrieve Technologies, Incorporated (also known as BTI). On April 29, 1994 the transfer was completed and Nancy Woodward became the [[Chairman]] of BTI and Doug Woodward was made the [[Chief Technical Officer]]. The [[CEO]] position was given to Ron Harris, a former employee of [[Texas Instruments]], and one of the founding employees of [[Citrix Systems, Inc.]] where he was employed first as Director of Strategic Planning, then as Vice-President of Marketing, and finally as the Product Group Vice President.

Btrieve was totally rewritten and on July 1, 1994 Btrieve 6.15 was released for DOS, Windows and OS/2. Novell SQL was renamed to '''Scalable SQL''' to reflect the change in ownership of the company. In 1995 version 6.15 was released for Novell [[NetWare]], [[Windows NT]] Server and for Windows NT/[[Windows 95|95]], and thus became a [[cross-platform]] database product. The concept of a Micro Kernel Database Engine (MKDE) was introduced in this version.

===Pervasive Software===
&lt;!-- Image with inadequate rationale removed: [[Image:Pervasive logo.png|right]] --&gt;
In 1996 the company renamed itself to [[Pervasive Software]], and their product [[Pervasive PSQL|Pervasive.SQL]] . In 1997, the company went public. They did this in order to allow greater penetration of the relational database market and to re-align as an SQL vendor, though they are still marketing and developing Btrieve. Pervasive completed its [[initial public offering|IPO]] in September. The company continued using the MKDE in version 6.30. In 1997 Pervasive released ScalableSQL 4.0, a relational database product, and Btrieve 7.0.

In 2000, Novell was criticized after it ceased bundling [[Pervasive PSQL|Pervasive.SQL]] with NetWare (5.1 was the first version affected). Instead, it shipped with a trial version that shut down after 90-days.&lt;ref&gt;{{cite web| last=Foster| first=Ed| year=2000| url=http://www.infoworld.com/articles/op/xml/00/02/28/000228opfoster.html| title=Hear the sucking sound? That Novell upgrade may cost more than expected| publisher=Infoworld| accessdate=2004-12-12 |archiveurl = http://web.archive.org/web/20041130093031/http://www.infoworld.com/articles/op/xml/00/02/28/000228opfoster.html &lt;!-- Bot retrieved archive --&gt; |archivedate = 2004-11-30}}&lt;/ref&gt; The latest version, [[Pervasive PSQL]] Summit v11, was released in September 2010.

===Actian Corporation===
In 2013, Actian Corporation acquired [[Pervasive Software]].&lt;ref&gt;{{cite web|title=Actian Corporation and Pervasive Software Unite to Take Action on Big Data|url=http:////www.actian.com/press/actian-pervasive}}&lt;/ref&gt;

==Versions==

===Btrieve for DOS===
There was one DOS client-based configuration of Btrieve created by SoftCraft. SoftCraft's definition of a client-based version was a "Btrieve engine running on a particular workstation."&lt;ref&gt;{{cite book| author=Pervasive| year=1997| url=http://www.pervasive.com/support/technical/btrv615/btr61dos.pdf| title=Btrieve for DOS Installation and Operation manual| pages=1|format=PDF}}&lt;/ref&gt; This meant that the record-management engine connected directly to the files via operating system functions and modified the records accordingly, whether the files were local or on a network. The client-based engine allowed five [[Concurrency (computer science)|concurrent]] users to access the database at any one time. All processing of the records was done on the local workstation the engine was installed on. Btrieve for DOS used the SEFS and MEFS modes for file sharing.

===Btrieve for Netware===
Btrieve for Netware was essentially the same as Btrieve for DOS with some extra features only available on Netware at the time. It ran a server process, called &lt;code&gt;BSERVER&lt;/code&gt;, on the file-sharing server and this managed data [[input/output|I/O]] in conjunction with the network file system. The server process was first implemented as a Netware ''[[Value Added Process]]'' (VAP) called &lt;code&gt;BSERVER.VAP&lt;/code&gt;, but was switched to a Netware ''[[NetWare Loadable Module]]'' (NLM) soon after. Basically, &lt;code&gt;BSERVER&lt;/code&gt; was the database engine that dealt with access to records, however it also accepted requests from the transmittal of requested data to another server via the &lt;code&gt;BROUTER&lt;/code&gt; process.  

Btrieve used ''requesters'' to make database I/O requests from the client workstation. These requesters were available for DOS, OS/2, Microsoft Windows, and [[UnixWare]]. The program &lt;code&gt;BREQUEST.EXE&lt;/code&gt; accepted I/O requests via the Btrieve API and relayed them to &lt;code&gt;BSERVER&lt;/code&gt;. It then handled the responses from &lt;code&gt;BSERVER&lt;/code&gt; and relayed them back to the appropriate applications.

The &lt;code&gt;BROUTER&lt;/code&gt; process allowed for incoming requests to be "routed" to a copy of the database on another server. It was loaded on the Netware server and dealt with communication between multiple server processes running on the one file-server through the use of two ''File Server Tables'' (FSTs). According to Pervasive, these provide a list of "server names and addresses, and the ''Server Routing Table'' (SRT)".&lt;ref&gt;{{cite web| author=Pervasive| year=1998| url=http://www.pervasive.com/support/knowledge/files/btrtt-97070801.html| title=Status 96 from a NetWare NLM Application (article ID: BTRTT-97070801)| work=Pervasive KnowledgeBase| accessdate=2004-12-12}}&lt;/ref&gt; BROUTER also allowed communication requests to be routed to the correct server via SPX by looking up the &lt;code&gt;BSPXCOM&lt;/code&gt; NLM and coordinated locks and other mechanisms that controlled access to the data in the Btrieve database.

Btrieve for DOS used the SEFS and MEFS modes for file sharing, and because it was able to run on a network it was able to use exclusive and concurrent transactions.

===Btrieve for Windows===
Btrieve for Windows was created before the company rewrote the codebase to use the MKDE. It featured SEFS and MEFS file sharing mechanisms; used shadow-paging and allowed for exclusive and concurrent locks. It handled version 6.x and 6.1 files differently: version 6.x files could handle operations on “chunks” of records rather than locking up the whole record; it handled records that were over 64KB; implemented VATs, ACSs, new data types; allowed for percentage operations (where the record could be located and manipulated by the physical location in the file) and handled duplicate keys. Version 6.x was capable of dropping or adding any index on the fly (version 6.0 and below could only drop supplemental indexes). Version 6.1 files allowed for concurrent and system transactions; the optional renumbering of keys; case insensitive ACS tables and enhanced locking operations.

Btrieve for Windows could run as a client to the database that utilized SEFS or MEFS modes, or it could directly access the Btrieve server.

====Client-based Btrieve====
[[Image:Btrieve for Windows 95NT Workstation config.svg|right|250px|border]]
The client-based version of Btrieve has all the database files either directly on the local computer or via a mapped network drive (setup using DOS’s &lt;code&gt;NET USE&lt;/code&gt; command). 

Applications make a function call to &lt;code&gt;WBTRCALL.DLL&lt;/code&gt;, a loader and requester interface. The loader and requester module checks the &lt;code&gt;BTI.INI&lt;/code&gt; configuration file is correctly setup to load the client-based Btrieve engine. In turn, this loads the local interface to the btrieve engine (&lt;code&gt;WBTRLOCL.DLL&lt;/code&gt;). If necessary, this local interface loads the Btrieve engine (&lt;code&gt;WBTR32.EXE&lt;/code&gt;) into memory and sends the necessary database requests to it. The database engine then calls various Win32 system libraries to perform file operations on the database files.&lt;ref&gt;{{cite book| author=Pervasive| month=November | year=1996| url=http://www.pervasive.com/support/technical/btrv615/btr61win.pdf| title=Btrieve for Windows Installation and Operation| pages=2–5, 2–6|format=PDF}}&lt;/ref&gt;

====Client-based Btrieve accessing server-based Btrieve====
The client-based version of Btrieve for Windows could access server-based versions of Btrieve via a DOS-based "requester". The requestor required the use of [[DOS Protected Mode Interface]] (DPMI) which allows the program access to DOS's [[extended memory]] which could only accessed using the [[protected mode|Protected Mode]] functionality of the CPU's [[x86]] architecture.

As with the client-based interface, the Btrieve-based application makes a call to the &lt;code&gt;WBTRCALL.DLL&lt;/code&gt; loader and requester interface library. This library checks the &lt;code&gt;BTI.INI&lt;/code&gt; file to see if it needs to access data on the local system or whether it needs to access data on a remote server. If it needs to access the server then it uses the Windows version of DPMI to access a DOS-based requester named &lt;code&gt;BREQUEST.EXE&lt;/code&gt;. The requester then establishes a network connection to the server, which processes the request and passes back a message to the requester when the database request is completed.

===Btrieve for Windows NT/Windows 95===
Btrieve for Windows NT and Windows 95 was released in 1995 along with Btrieve for Netware and Btrieve for Windows NT Server. It had reached version 6.15 and started using the [[Architecture of Btrieve#Micro-Kernel Database Engine|MKDE]]. The file sharing mechanisms remained the same as it still used SEFS and MEFS file sharing modes; used shadow-paging and allowed for exclusive and concurrent locks. This version of Btrieve allowed for [[null pointer|null]] values in keys, which meant that a record could be entered into the database when information on the key was not available. It meant that the key would not be included into the index, and this helped decrease unnecessary searching of the database via the index. It also introduced the concept of a ''system transaction'' and a ''user transaction''.  (see ''[[Architecture of Btrieve#System and user transactions|System and user transactions]]''). The MKDE also allowed gaps between auto-incremented keys. [[Architecture of Btrieve#Variable-tail allocation tables|Variable-tail allocation tables]] were introduced in version 6.15, so they were included in the Windows NT/95 build of Btrieve.

There are two configurations of Btrieve for Windows NT/95: standalone workstation and client/server.

====Standalone Workstation====
[[Image:Btrieve for Windows 95NT Workstation config.svg|right|250px|border]]
When using the ''standalone workstation'' configuration of Btrieve, all processing of records is done on the local [[workstation]]. The workstation relies on the underlying mechanisms of Windows to allow the MKDE (the &lt;code&gt;W32MKDE.EXE&lt;/code&gt; program) to gain direct access to the database files, and uses lock files to deal with concurrency issues.

In this configuration the application makes calls to the Btrieve API, or Microkernel Interface (&lt;code&gt;WBTRV32.DLL&lt;/code&gt;). The call is then processed by this interface and passed along to the MKDE (&lt;code&gt;W32MKDE.EXE&lt;/code&gt;) which then uses the underlying operating system [[file system]] (whether it be network or local) to directly access the database files.&lt;ref&gt;{{cite book| author=Pervasive| month=November | year=1996| url=http://www.pervasive.com/library/docs/psql/615/btr6nt95.pdf| title=Btrieve for Windows NT/Windows 95 Installation and Operation| pages=2–3|format=PDF}}&lt;/ref&gt;

This leads to some peculiar issues. If Btrieve uses [[Windows file sharing]] and has the database engine open files directly on a file share, for instance, and there is network instability (or even if a network cable is unplugged) during an update the fields used to link one Btrieve file to another can become unsynchronized (to all intents and purposes the data loses its relationships or links to other data) and the database file itself can get corrupted (though the chance of this is reduced due to pre-image paging).

====Client/Server====
[[Image:MKDE server.svg|right|border|500px]]
When using the ''client/server'' (or ''Server edition'') configuration of Btrieve, processing of records is generally done on a Windows file server via a mapped drive (a way of mapping a file share to a "virtual" disk drive in Windows via the &lt;code&gt;NET USE&lt;/code&gt; command). It utilises the permissions that you are assigned when authenticating, either from when logging on or via the permissions given for the &lt;code&gt;NET USE&lt;/code&gt; is utilised.&lt;ref&gt;''Btrieve for Windows 95/NT Installation and Operation'', 2–5&lt;/ref&gt;

On Windows 95 the MKDE interface (a Windows [[dynamic link library]] (DLL) called &lt;code&gt;WBTRV32.DLL&lt;/code&gt;) actually determines what database access method is in use via the configuration file. If it detects that both the client/server and workstation engines are installed on the one machine it checks whether the target is set to workstation or server. If running on Windows NT and the server process &lt;code&gt;NTMKDE.EXE&lt;/code&gt; is running along with the standalone workstation process &lt;code&gt;W32MKDE.EXE&lt;/code&gt; it looks in the registry to determine if the target is either server or workstation. In both cases, if the MKDE interface is set to workstation (the "Standalone workstation" configuration) it uses the MKDE (&lt;code&gt;W32MKDE.EXE&lt;/code&gt;) to directly access the file. If it is set to server then the MKDE interface on the client uses a communications module (on [[Windows 95]] this is &lt;code&gt;W32BTICM.DLL&lt;/code&gt;, on [[Windows NT]] this is &lt;code&gt;NTBTICM.DLL&lt;/code&gt;) that "talks" to the [[Server (computing)|server]]. The server itself has its own matching communications module (again either &lt;code&gt;W32BTICM.DLL&lt;/code&gt; or &lt;code&gt;NTBTICM.DLL&lt;/code&gt;) that resides on the mapped drive. The server DLL then communicates with the server MKDE (&lt;code&gt;NTMKDE.EXE&lt;/code&gt;) which updates records, then sends a confirmation that the operation succeeded back through the communications module to the client.&lt;ref&gt;''Btrieve for Windows 95/NT Installation and Operation'', 2–4&lt;/ref&gt;

The advantage of this system is that if a network connection failure occurs the MKDE on the server will be able to detect this and recover in a more graceful manner than the workstation configuration is able to.

====Configuration====
&lt;!-- Deleted image removed: [[Image:W32mkset.PNG|thumb|The MKDE has a configuration program to alter system settings.]] --&gt;
A configuration utility was included with Btrieve to alter MKDE settings. The settings that could be changed were:

* '''File settings:''' this category contains settings related to files, file handles, record locks, indexes, and log files. The number of open files and logical file handles was set in here, as well as the number of record locks per client; index balancing and an option to create files in pre 6.x format are in this category. It also controlled whether the Microkernel kept a log of operations executed on selected files. In this section the method of file sharing could be set to either MEFS or SEFS. The system transaction hold limit sets the number of system transactions performed during write operations for shared files.
* '''Memory organisation:''' this category contained settings related to the size of buffers the Microkernel needed to allocate for various purposes.
* '''Client/System transactions:''' this category contains settings related to transactions, including the number supported and how and when they will be logged.
* '''System resources/directories:''' this category contains settings related to the number of clients and threads supported as well as the location of various system files.
* '''Trace operations:''' this category contains settings related to tracing various Btrieve operations. Tracing is an advanced feature used mainly for [[debugging]] purposes.

===Pervasive.SQL 7===
[[Pervasive PSQL|Pervasive.SQL]] 7 was released in March, 1998, and included Scalable SQL 4 and Btrieve 7.0. Btrieve 7.0 ran on the same platforms as Btrieve 6.x: Windows 95, Windows NT 3.51 &amp; 4, Netware and DOS. However, the company changed to a component-based architecture called SmartComponents to resolve compatibility issues with upgrades. This used a component identification scheme both embedded into the file and encoded into the file name, along with dynamic binding of "glue files" ([[Dynamic-link library#Delayed loading|DLLs loaded]] into memory only when needed). The dynamic binding of components was done using a new "Abstract OS Services DLL" that looked for the latest version of the appropriate needed component via the file name encoding. This "glue module" is then loaded into memory and used.&lt;ref&gt;{{cite book| author=Pervasive| month=February | year=1998| url=ftp://ftp.pervasive.com/documentation/pervasive.sql/version7/common/sug7.pdf| title=Pervasive.SQL 7 User's Guide| pages=22–28|format=PDF}}&lt;/ref&gt; The old log file format of Btrieve 6.x was also replaced with a new centralised log called &lt;code&gt;PVSW.LOG&lt;/code&gt; and that had a unified and enhanced log file format. They also improved their error messages and error message reporting mechanisms.

The MKDE was retained in [[Pervasive PSQL|Pervasive.SQL]] 7. However, due to the new component architecture's dynamic binding, the internal architecture was modified. The application using Btrieve calls a services manager which then searches through various configured directories for specific encoded filename. The file name loaded for Btrieve files in [[Backus-Naur form]] is:

 &lt;filename&gt; ::= &lt;platform-code&gt; "BIF" &lt;major-functional-level&gt; &lt;minor-functional-level&gt;
 &lt;platform-code&gt; ::= "W1" | "W2" | "W3" | "W9" | "WT" | "NW" | "O3"
 &lt;major-functional-level&gt; ::= &lt;number&gt;
 &lt;minor-functional-level&gt; ::= &lt;number&gt; &lt;number&gt;
 &lt;number&gt; ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"

{| class="wikitable"
|- bgcolor="#cccccc"
|+ Embedded filename platform codes 
! '''Code''' !! '''Platform'''
|-
| W1 || [[Windows 3.1x]], incl. Windows for Workgroups (Win16)
|-
| W2 || Extended Windows (32-bit [[Watcom]] Extender)
|-
| W3 || Windows 95, Windows NT (Win32)
|-
| W9 || Windows 95
|-
| WT || Windows NT
|-
| NW || Netware 3.x and 4.x
|-
| O3 || OS/2 (32-bit)
|}

The "glue" module, which is a DLL, is loaded into memory and becomes the interface to the MKDE. The MKDE then determines whether it is configured to be a workstation based configuration or a server based configuration. It then passes requests via its communications "requester" module onto the database server, or directly modifies the database files if configured in workstation mode.

===Pervasive.SQL 2000/2000i===
[[Pervasive PSQL|Pervasive.SQL]] 2000 and [[Pervasive PSQL|Pervasive.SQL]] 2000i uses essentially the same architecture as [[Pervasive PSQL|Pervasive.SQL]] 7, though 2000i includes i*Net server. It uses the same component model, has the ability to use the Btrieve or Scalable SQL engines and continues using an MKDE. This version included support for [[Red Hat Linux]], [[Caldera OpenLinux]], [[SUSE Linux distributions|SUSE]] and [[Solaris (operating system)|Solaris]]. It also had better integration with [[Terminal Services]], though only one instance of the database engine may run on any terminal server platform. You cannot run separate copies of the database engine within two or more terminal sessions.

===Pervasive.SQL V8===
Introduced in December 2002, [[Pervasive PSQL|Pervasive.SQL]] V8 improves the performance of both Btrieve and SQL applications using a number of new technologies.
*Client side caching greatly improves read performance by maintaining a portion of the database's contents on the local PC.
*Turbo Write Acceleration (TWA) groups disk writes into groups, minimizing interactions with disk.
*Transaction Logging provides a slightly less failure protection than transaction durability, but improves overall performance.

The V8 Security Feature Pack (a mid-release product update designated 8.5) added important new security features designed to lock down [[Pervasive PSQL|Pervasive.SQL]] data files. Prior to 8.5, access to Btrieve data was controlled by the operating system's security mechanism. This meant that any user who needed read/write access to the database, also needed read/write access to the underlying data files. 8.5 introduced new security models, which allow administrators to control access to the Btrieve data using database security. Once activated, database security no longer requires that the user has access to the underlying files. In addition, client/server configurations no longer require the use of network shares or mapped drives. Applications can reference secure Btrieve data using a URI connection string.

===Pervasive PSQL v9===
[[Pervasive PSQL]] v9 includes new Java GUIs, built on the Eclipse framework. These GUIs are available for both Microsoft Windows and Linux. In addition, v9 included many SQL performance and syntax updates, improving both the speed and flexibility of all of the SQL interfaces - ADO.Net, JDBC, ODBC, and OLE DB. Finally, PSQL v9 expanded the Btrieve maximum file size from 64GB in 8.x and earlier file formats to 128 GB in 9.0 format files, and again to 256GB for files in the 9.5 file format.

In conjunction with PSQL v9 Pervasive reintroduced the DDF Builder utility and added support for text searching with the Full Text Search (FTS) add-on, which was later removed from the product line. DDF Builder provides a mechanism for Btrieve users to define the meta data for existing Btrieve files, thus allowing Btrieve data to be accessible via SQL tools and utilities.

All versions of the MKDE retain full backward read-level compatibility with earlier versions of Btrieve, including those that pre-date introduction of the MKDE itself, and do not change the file's version unless specifically requested to do so.  Btrieve files that are in the 5.x or older file formats MUST be rebuilt (using the GUI or command line Rebuild utilities) to 6.x or newer format to support database writes from the 9.0 or newer database engine.

===Pervasive PSQL v10===
[[Pervasive PSQL]] v10 was released in September 2007 and was the first version of [[Pervasive PSQL]] Server and Client to provide support for 64-bit operating systems. The Btrieve API and distributing tuning interface (DTI) were both enhanced to support 64-bit. [[Pervasive PSQL]] Workgroup and other components of the SDK were not enhanced for 64-bit support.&lt;ref&gt;{{cite web| author=Pervasive| year=2007| url=http://docs.pervasive.com/products/database/psqlv10/wwhelp/wwhimpl/js/html/wwhelp.htm#href=whnew/whatsnew_10_0.5.1.html| title=What was New in Pervasive PSQL v10| work=Pervasive Documentation| accessdate=2010-07-30}}&lt;/ref&gt;

The release of [[Pervasive PSQL]] v10 was timed to offer support for the then newly available Windows Vista and soon to arrive Windows Server 2008 operating systems. [[Pervasive PSQL]] v10 Server, Workgroup and Client all support Windows Vista. [[Pervasive PSQL]] v10 Server is Certified for Windows Server 2008.

Also included in [[Pervasive PSQL]] v10 was Xtreme I/O (XIO), a 32-bit Windows database accelerator that enabled access of extended memory to expand the database cached past the normal 2GB limit on 32-bit Windows systems. XIO also included update compression algorithms and streamlined writing techniques to improve database I/O performance.&lt;ref&gt;{{cite book| author=Pervasive| month=March | year=1998| url=http://ww1.pervasive.com/documentation/whitepapers/pdf/wp0907c04_xio.pdf| title=Pervasive PSQL Xtreme I/O: Delivering Performance for 32-bit Applications| pages=3–5|format=PDF}}&lt;/ref&gt;

Digital license enforcement, called Product Authorization, was introduced for the [[Pervasive PSQL]] product line with [[Pervasive PSQL]] v10. Product Authorization was initially implemented with trial downloads and e-commerce orders. Products sold through the Pervasive Distributor and ISV partners were upgrade to include product authorization with the release of [[Pervasive PSQL]] v10 SP3 in November 2009. [[Pervasive PSQL]] v10 SP3 was also released as a Windows 7 compatible application.

[[Pervasive PSQL]] v10 retained backward compatibility by using the 9.5 file format with an increase in the maximum data file size to 256GB and increase in the maximum page size to 16,384 bytes.

Support for NetWare, Windows NT, Windows 98, Windows ME, DOS 6.22 and 16-bit applications were dropped with [[Pervasive PSQL]] v10. Although the Windows and Linux versions of [[Pervasive PSQL]] v9 products are no longer sold, Pervasive still sells and supports [[Pervasive PSQL]] v9 for NetWare.

In 2010, Pervasive Software released [[Pervasive PSQL]] v11, which allows users to take full advantage of multithreading for faster database processing.

===Pervasive PSQL v11===
[[Pervasive PSQL]] v11 was released in September 2010. One of the key drivers of the engineering effort behind [[Pervasive PSQL]] v11 was the redesign of the database engine to increase performance and scalability on multi-core CPU's. [[Pervasive PSQL]] v11 optimizes parallel threads performing similar activities, allowing the database to engage multiple cores during task execution. PSQL v11 also provides enhancements to the low-level synchronization mechanisms in the navigational interface. Multiple users can read the same cached file pages simultaneously and their operations can proceed on independent cores. Non-user activity such as checkpoints and log management can run on separate cores and multiple users accessing independent files can proceed on different cores.&lt;ref name="Pervasive 2010"&gt;{{cite web| author=Pervasive| year=2010| url=http://www.pervasivedb.com/psqlv11/Documents/Whats_New_PSQLv11.pdf| title=What's New in Pervasive PSQL v11| work=Pervasive Documentation| accessdate=2010-09-30}}&lt;/ref&gt;

Multi-core support is available with all versions of PSQL v11: 32- and 64-bit Windows and Linux Servers, and 32-bit Workgroup. Internal testing at Pervasive documented performance increases of 300% when comparing PSQL v10 to PSQL v11 on a 8-core server running Microsoft 2008 Enterprise Server SP2(64-bit).&lt;ref&gt;{{cite web| author=Pervasive| year=2010| url=http://www.pervasivedb.com/psqlv11/Documents/PSQLv11_Benchmark_Performance.pdf| title=Benchmark Performance Results for Pervasive PSQL v11| work=Pervasive Documentation| accessdate=2010-09-29}}&lt;/ref&gt;

([[IPv6]]) support on Windows is included in Pervsive PSQL v11 with continued support for IPv4 environments. [[Pervasive PSQL]] v11 supports IPv6 with both the Btrieve and DTI (Distributed Tuning Interface) access methods.

64-bit server versions of PSQL v11 include a 64-bit relational/SQL engine as well as the 64-bit navigational/Btrieve engine, along with a 64-bit ODBC driver. The driver is installed with the 64-bit versions of PSQL Server and PSQL Client.

Pervasive updated the PSQL software development kit with the addition of the [[Pervasive PSQL]] ADO.NET Data Provider 3.5. The Data Provider 3.5 is compliant with .NET Framework versions 2.0, 3.0, 3.5, 3.5 SP1 and 4.0, and runs under .NET Framework 4.0 with support for Entity Framework 1.0 features.&lt;ref name="Pervasive 2010"/&gt; [[Pervasive PSQL]] v11 also updated the PDAC (Pervasive Direct Access Components) access method with support for Embardacero's RAD Studio 2009 and RAD Studio 2010.

Product Authorization was extended in [[Pervasive PSQL]] v11 to include OEM customers, along with the introduction of a web based portal for OEM's to generate keys and manage licenses for PSQL v11. Telephone authorization (a method of authorizing [[Pervasive PSQL]] without requiring an Internet connection) was first introduced with PSQL v11 and made available to all Pervasive customers.

[[Pervasive PSQL]] v11 continues with the 9.5 file format, maintaining backward compatibility with previous releases.

Support for Windows 2000 was dropped with [[Pervasive PSQL]] v11.

===Pervasive PSQL Ecosystem===
Pervasive now offers a number of add-on products which extend the basic features of the PSQL DBMS.  The latest versions of each of the products, AuditMaster v7, Backup Agent v3, and DataExchange v4, were released in December 2010.

*Pervasive AuditMaster provides real-time auditing of all database interactions, whether Btrieve or SQL. Logs of data events can be queried to track changes to sensitive data. Alerts can also be created to notify the appropriate personnel or launch the associated process.
*Pervasive Backup Agent manages PSQL's continuous operations mode and allows backup software to reliably copy online databases.
*Pervasive DataExchange provides data synchronization and replication between two or more PSQL engines, ensuring that critical data is always available.

==See also==
* [[Architecture of Btrieve]]
* [[Pervasive Software]]
* [[Microsoft Jet Database Engine]]

==Notes==
{{Reflist}}

==Sources==

* Trocino, Richard B. (1994). ''The Illustrated Guide to NetWare Btrieve 6.x''. Golden West Products International. pp.&amp;nbsp;19–24.
* Novell. ''[http://www.novell.com/documentation/nw42/index.html?btrv_enu/data/hmlnx3yv.html Components of NetWare Btrieve]''. Retrieved December 12, 2004.
* Pervasive (2004). ''[http://www.btrieve.com/past.asp Btrieve past, present and future: Remember when Btrieve rocked the database world?]''. Company history webpage.
* Pervasive (March 2001). ''[http://www.pervasive.com/support/technical/psql2k/sgs.pdf Pervasive.SQL 2000i: Getting Started (Server Edition)]''. Product manual.

==External links==
* [http://www.pervasive.com Pervasive Software Inc.] — makers of Btrieve and PSQL
* [http://www.btrievesociety.com/ Btrieve Society]
* [http://groups-beta.google.com/group/comp.databases.btrieve comp.databases.btrieve] — Btrieve [[newsgroup]]
* [http://www.pervasivedb.com/support/Pages/Documentation.aspx Pervasive Software online manuals]

[[Category:Proprietary database management systems]]
[[Category:DOS software]]
[[Category:Windows software]]
[[Category:Novell NetWare]]
[[Category:1982 introductions]]</text>
      <sha1>az1q1jwyag6h6ods7wqb5pmjx6oqq10</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>