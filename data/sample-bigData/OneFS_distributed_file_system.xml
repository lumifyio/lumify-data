<?xml version="1.0" ?><page xmlns="http://www.mediawiki.org/xml/export-0.8/" version="0.8">
    <title>OneFS distributed file system</title>
    <ns>0</ns>
    <id>18291947</id>
    <revision>
      <id>561692101</id>
      <parentid>561690866</parentid>
      <timestamp>2013-06-26T16:38:45Z</timestamp>
      <contributor>
        <ip>206.108.127.2</ip>
      </contributor>
      <comment>/* Versions */ Consolidate sub-versions as most of it is useless noise.</comment>
      <text xml:space="preserve">{{Infobox Filesystem
| name = OneFS
| full_name = OneFS
| developer = [[Isilon Systems]]
| introduction_os = OneFS 1.0 -- based on [[FreeBSD]]
| introduction_date = 2003
| partition_id = 
| directory_struct = [[B+ tree]]s
| file_struct = [[B+ tree]]s
| bad_blocks_struct = 
| max_filename_size = 255 [[byte]]s
| max_files_no = Cluster size dependent
| max_volume_size = 15PB+ (143+ nodes at 108TB each);&lt;ref&gt;[http://www.isilon.com/press-release/emc-isilon-delivers-worlds-largest-single-file-system-big-data "EMC Isilon Delivers World's Largest Single File System for Big Data"], May 9, 2011, accessed July 19, 2011.&lt;/ref&gt; 65535 nodes theoretical limit
| max_file_size = 4TB
| filename_character_set = All bytes except NUL and '/'
| dates_recorded = Create time, rename time, mtime, ctime, atime
| date_range = 
| forks_streams = Yes (extended attributes and [[Alternate Data Streams]])
| attributes = 
| file_system_permissions = Yes (Unix permissions and NTFS [[Access control list|ACLs]])
| compression = No
| encryption = No
| OS = OneFS 
}}
The '''OneFS file system''' is a [[distributed file system|distributed networked file system]] designed by [[Isilon Systems]] for use in its Isilon IQ storage appliances.  OneFS is a FreeBSD variant and utilizes [[zsh]] as its shell. OneFS has its own specialized command set,&lt;ref&gt;[http://isilon.custhelp.com/ci/fattach/get/262/1303833600/redirect/1 "OneFS Command Line Reference"]&lt;/ref&gt; all of which start with "isi", which is used to administer the system.

== On-disk Structure ==
All data structures in the OneFS file system maintain their own protection information. This means in the same filesystem, one file may be protected at +1 (basic parity protection) while another may be protected at +4 (resilient to four failures) while yet another file may be protected at 2x ([[Disk mirroring|mirror]]ing); this feature is referred to as FlexProtect.&lt;ref&gt;[http://isilon.custhelp.com/ci/fattach/get/494/1313000035/redirect/1 "Data Protection and Backup"]&lt;/ref&gt; FlexProtect is also responsible for automatically rebuilding the data in the event of a failure. The protection levels available are based on the number of nodes in the cluster and follow the [[Reedâ€“Solomon error correction|Reed Solomon Algorithm]]. Blocks for an individual file are spread across the nodes; for example, block 0 may be on Node 3, block 1 on Node 1, and the related [[Parity bit|parity]] block on Node 5. This allows entire nodes to fail without losing access to any data. File [[metadata]], directories, [[Snapshot (computer storage)|snapshot]] structures, [[Disk quota|quota]]s structures, and a logical [[inode]] mapping structure are all based on mirrored [[B+ tree]]s. Block addresses are generalized 64-bit [[pointer (computer programming)|pointer]]s that reference (node, drive, blknum) [[tuple]]s. The native block size is 8192 bytes; inodes are 512 bytes on disk.

One distinctive characteristic of OneFS is that metadata is spread throughout the nodes in a homogeneous fashion.  There are no dedicated metadata servers. The only piece of metadata that is replicated on every node is the address list of root btree blocks of the inode mapping structure. Everything else can be found from that starting point, following the generalized 64-bit pointers.

== Clustering ==
Nodes running OneFS must be connected together with a high performance, low-latency back-end network for optimal performance. OneFS 1.0-3.0 used Gigabit Ethernet as that back-end network. Starting with OneFS 3.5, Isilon offered [[Infiniband]] models. Now all nodes sold utilize an Infiniband back-end.

Data, metadata, locking, transaction, group management, allocation, and event traffic go over the back-end RPC system. All data and metadata transfers are [[zero-copy]]. All modification operations to on-disk structures are transactional and [[Journaling file system|journaled]].

== Protocols ==
OneFS is equipped with options for accessing storage via [[Network File System|NFS]], CIFS/[[Server Message Block|SMB]], FTP, HTTP, and [[Iscsi|iSCSI]]. It can utilize non-local authentication such as [[Active Directory]], [[LDAP]], and [[Network Information Service|NIS]]. It is also capable of interfacing with backup devices using [[NDMP]].

== Versions ==
{{Multicol}}
* 1.0, 2.0, 3.0, 4.0
* 4.1, 4.5, 4.6
* 4.7
** 4.7.1 to .11
* 5.0
** 5.0.0 to .8
{{Multicol-break}}
* 5.5 (based on FreeBSD 6.1)&lt;ref name="sysparam"&gt;Determined by the __FreeBSD_version [[C preprocessor|definition]] in /usr/include/sys/param.h. See ''FreeBSD Porter's Handbook'' for more information.&lt;/ref&gt;&lt;ref name="prthdbook"&gt;{{cite web
 | url = http://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/freebsd-versions.html
 | title = __FreeBSD_version values
 | work = FreeBSD Porter's Handbook
 | author = The FreeBSD Documentation Project | accessdate = 2011-12-01
}}&lt;/ref&gt;
** 5.5.1 to .2
** 5.5.3 - OS updates with rolling reboots of individual nodes.
** 5.5.4 - Adds [[iSCSI]]
** 5.5.5 to .7
{{Multicol-break}}
* 6.0 - Upto 10.4 PB in a single file system
** 6.0.1 to .4
* 6.5(based on FreeBSD 7.3)&lt;ref name="sysparam" /&gt;
** 6.5.1 to .5
* 7.0 - released November 2012;&lt;ref&gt;{{cite web
 | url = http://bigdatablog.emc.com/2012/11/16/emc-isilon-onefs-7-0-converging-big-data-and-the-enterprise/
 | title = EMC Isilon OneFS 7.0: Converging Big Data and The Enterprise | date = 2012-11-16 | accessdate = 2013-01-18
 | first = Mona | last = Patel | work = EMC Big Data Blog
}}&lt;/ref&gt; (based on FreeBSD 7.4-STABLE)&lt;ref name="sysparam" /&gt;
** 7.0.1 to .2
{{Multicol-end}}

== See also ==
* [[List of file systems]]
* [[Distributed file system]]

==References==
{{reflist}}

== External links ==
* {{Official website|http://www.isilon.com/onefs-operating-system}}
* [http://www.isilon.com Isilon Web page]

[[Category:Distributed file systems]]


{{Compu-storage-stub}}</text>
      <sha1>adkyue7rao0asadjte51vuwbc732fv8</sha1>
      <model>wikitext</model>
      <format>text/x-wiki</format>
    </revision>
  </page>